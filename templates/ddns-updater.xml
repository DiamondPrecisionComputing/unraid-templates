<?xml version="1.0"?>
<Container version="2">
  <Name>ddns-updater</Name>
  <Repository>qmcgaw/ddns-updater</Repository>
  <Registry>https://hub.docker.com/r/qmcgaw/ddns-updater/</Registry>
  <Network>bridge</Network>
  <Shell>bash</Shell>
  <Privileged>false</Privileged>
  <Support>https://forums.unraid.net/topic/111725-support-diamondprecisioncomputing-all-images-and-files/?tab=comments#comment-1021532</Support>
  <Project>https://github.com/qdm12/ddns-updater</Project>
  <Overview>&amp;lt;h1 style="outline: 0px; color: var(--text-hover);"&amp;gt;Lightweight universal DDNS Updater with Docker and web UI&amp;lt;/h1&amp;gt;&#xD;
    &amp;lt;p style="outline: 0px; text-align: justify; margin: 0px 0px 4px;"&amp;gt;&amp;lt;strong style="outline: 0px; color: var(--text-hover);"&amp;gt;INSTRUCTIONS:&amp;lt;/strong&amp;gt;&amp;lt;/p&amp;gt;&#xD;
    &amp;lt;p style="outline: 0px; text-align: justify; margin: 0px 0px 4px;"&amp;gt;&amp;lt;em style="outline: 0px;"&amp;gt;&amp;lt;u style="outline: 0px;"&amp;gt;Detailed Instructions can be found here:&amp;lt;/u&amp;gt;&amp;lt;/em&amp;gt;&amp;lt;/p&amp;gt;&#xD;
    &amp;lt;p style="outline: 0px; text-align: justify; margin: 0px 0px 4px;"&amp;gt;&amp;lt;em&amp;gt;&amp;lt;u&amp;gt;https://github.com/qdm12/ddns-updater#Setup&amp;lt;/u&amp;gt;&amp;lt;/em&amp;gt;&amp;lt;/p&amp;gt;&#xD;
    &amp;lt;ul style="outline: 0px;"&amp;gt;&#xD;
        &amp;lt;li style="outline: 0px;"&amp;gt;Open a terminal session to Unraid&amp;lt;/li&amp;gt;&#xD;
        &amp;lt;li style="outline: 0px;"&amp;gt;Create the appdata directory&amp;lt;ul style="outline: 0px;"&amp;gt;&#xD;
                &amp;lt;li style="outline: 0px;"&amp;gt;mkdir /mnt/user/appdata/ddns-updater&amp;lt;/li&amp;gt;&#xD;
            &amp;lt;/ul&amp;gt;&#xD;
        &amp;lt;/li&amp;gt;&#xD;
        &amp;lt;li style="outline: 0px;"&amp;gt;Create the config file&amp;lt;ul style="outline: 0px;"&amp;gt;&#xD;
                &amp;lt;li style="outline: 0px;"&amp;gt;touch /mnt/user/appdata/ddns-updater/config.json&amp;lt;/li&amp;gt;&#xD;
            &amp;lt;/ul&amp;gt;&#xD;
        &amp;lt;/li&amp;gt;&#xD;
        &amp;lt;li style="outline: 0px;"&amp;gt;Write a JSON config for the DNS providers you wish to use&amp;lt;ul style="outline: 0px;"&amp;gt;&#xD;
                &amp;lt;li style="outline: 0px;"&amp;gt;&amp;lt;em style="outline: 0px;"&amp;gt;&amp;lt;u style="outline: 0px;"&amp;gt;Examples of JSON configs and per provider instructions can be found&amp;amp;nbsp;&amp;lt;/u&amp;gt;&amp;lt;/em&amp;gt;&amp;lt;em style="outline: 0px;"&amp;gt;&amp;lt;u style="outline: 0px;"&amp;gt;here:&amp;lt;/u&amp;gt;&amp;lt;/em&amp;gt;&amp;lt;/li&amp;gt;&#xD;
                &amp;lt;li style="outline: 0px;"&amp;gt;&amp;lt;em style="outline: 0px;"&amp;gt;&amp;lt;u style="outline: 0px;"&amp;gt;https://github.com/qdm12/ddns-updater#configuration&amp;lt;/u&amp;gt;&amp;lt;/em&amp;gt;&amp;lt;/li&amp;gt;&#xD;
            &amp;lt;/ul&amp;gt;&#xD;
        &amp;lt;/li&amp;gt;&#xD;
        &amp;lt;li style="outline: 0px;"&amp;gt;Fill out the necessary fields below and APPLY the container&amp;lt;ul style="outline: 0px;"&amp;gt;&#xD;
                &amp;lt;li style="outline: 0px; box-sizing: border-box; margin-top: 0.25em;"&amp;gt;&#xD;
                    &amp;lt;p style="outline: 0px; text-align: justify; margin: 16px 0px; box-sizing: border-box;"&amp;gt;&#x26A0;&#xFE0F; If you use IPv6, you might need to create the IPV6_PREFIX variable&amp;lt;span style='outline: 0px; font-family: "Times New Roman", Times, serif;'&amp;gt;. (e.g. &amp;amp;quot;IPV6_PREFIX=/64&amp;amp;quot; -- /64 is your prefix, depending on your ISP)&amp;lt;/span&amp;gt;&amp;lt;/p&amp;gt;&#xD;
                &amp;lt;/li&amp;gt;&#xD;
            &amp;lt;/ul&amp;gt;&#xD;
        &amp;lt;/li&amp;gt;&#xD;
        &amp;lt;li style="outline: 0px; box-sizing: border-box; margin-top: 0.25em;"&amp;gt;&#xD;
            &amp;lt;p style="outline: 0px; text-align: justify; margin: 16px 0px; box-sizing: border-box;"&amp;gt;(Optional) You can also set your JSON configuration as a single environment variable line (i.e. &amp;lt;code style='outline: 0px; box-sizing: border-box; font-family: ui-monospace, SFMono-Regular, "SF Mono", Menlo, Consolas, "Liberation Mono", monospace; font-size: 13.6px; background-color: var(--color-markdown-code-bg); border-radius: 6px; margin: 0px; padding: 0.2em 0.4em;'&amp;gt;{&amp;amp;quot;settings&amp;amp;quot;: &amp;amp;lt;{&amp;amp;quot;provider&amp;amp;quot;: &amp;amp;quot;namecheap&amp;amp;quot;, ...}&amp;amp;gt;}&amp;lt;/code&amp;gt;), which takes precedence over config.json. Note however that if you don&amp;amp;apos;t bind mount the &amp;lt;code style='outline: 0px; box-sizing: border-box; font-family: ui-monospace, SFMono-Regular, "SF Mono", Menlo, Consolas, "Liberation Mono", monospace; font-size: 13.6px; background-color: var(--color-markdown-code-bg); border-radius: 6px; margin: 0px; padding: 0.2em 0.4em;'&amp;gt;/updater/data&amp;lt;/code&amp;gt; directory, there won&amp;amp;apos;t be a persistent database file &amp;lt;code style='outline: 0px; box-sizing: border-box; font-family: ui-monospace, SFMono-Regular, "SF Mono", Menlo, Consolas, "Liberation Mono", monospace; font-size: 13.6px; background-color: var(--color-markdown-code-bg); border-radius: 6px; margin: 0px; padding: 0.2em 0.4em;'&amp;gt;/updater/updates.json&amp;lt;/code&amp;gt; but it will still work.&amp;lt;/p&amp;gt;&#xD;
        &amp;lt;/li&amp;gt;&#xD;
    &amp;lt;/ul&amp;gt;&#xD;
    &amp;lt;p style="outline: 0px; text-align: justify; margin: 0px 0px 4px;"&amp;gt;&amp;lt;strong style="outline: 0px; color: var(--text-hover);"&amp;gt;FEATURES:&amp;lt;/strong&amp;gt;&amp;lt;/p&amp;gt;&#xD;
    &amp;lt;ul style="outline: 0px;"&amp;gt;&#xD;
        &amp;lt;li style="outline: 0px;"&amp;gt;Updates periodically A records for different DNS providers:&amp;lt;ul style="outline: 0px;"&amp;gt;&#xD;
                &amp;lt;li style="outline: 0px;"&amp;gt;Cloudflare, DD24, DDNSS.de, DigitalOcean, DonDominio, DNSOMatic, DNSPod, Dreamhost, DuckDNS, DynDNS, FreeDNS, Gandi, GoDaddy, Google, He.net, Infomaniak, Linode, LuaDNS, Namecheap, NoIP, Njalla, OpenDNS, OVH, Selfhost.de, Spdyn, Strato.de, Variomedia.de&amp;lt;/li&amp;gt;&#xD;
                &amp;lt;li style="outline: 0px; box-sizing: border-box; margin-top: 0.25em;"&amp;gt;&amp;lt;strong style="outline: 0px; color: var(--text-hover); box-sizing: border-box; font-weight: 600;"&amp;gt;Want more?&amp;lt;/strong&amp;gt;Create an issue for it!&amp;lt;/li&amp;gt;&#xD;
                &amp;lt;li style="outline: 0px; box-sizing: border-box; margin-top: 0.25em;"&amp;gt;&amp;lt;em&amp;gt;&amp;lt;u&amp;gt;https://github.com/qdm12/ddns-updater/issues/new/choose&amp;lt;/u&amp;gt;&amp;lt;/em&amp;gt;&amp;lt;/li&amp;gt;&#xD;
            &amp;lt;/ul&amp;gt;&#xD;
        &amp;lt;/li&amp;gt;&#xD;
        &amp;lt;li style="outline: 0px; box-sizing: border-box; margin-top: 0.25em;"&amp;gt;Web User interface&amp;lt;/li&amp;gt;&#xD;
        &amp;lt;li style="outline: 0px; box-sizing: border-box;"&amp;gt;14MB Docker image based on a Go static binary in a Scratch Docker image with ca-certificates and timezone data&amp;lt;/li&amp;gt;&#xD;
        &amp;lt;li style="outline: 0px; box-sizing: border-box; margin-top: 0.25em;"&amp;gt;Persistence with a JSON file &amp;lt;em style="outline: 0px; box-sizing: border-box;"&amp;gt;updates.json&amp;lt;/em&amp;gt; to store old IP addresses with change times for each record&amp;lt;/li&amp;gt;&#xD;
        &amp;lt;li style="outline: 0px; box-sizing: border-box; margin-top: 0.25em;"&amp;gt;Docker healthcheck verifying the DNS resolution of your domains&amp;lt;/li&amp;gt;&#xD;
        &amp;lt;li style="outline: 0px; box-sizing: border-box; margin-top: 0.25em;"&amp;gt;Highly configurable&amp;lt;/li&amp;gt;&#xD;
        &amp;lt;li style="outline: 0px; box-sizing: border-box; margin-top: 0.25em;"&amp;gt;Send notifications with &amp;lt;a href="https://containrrr.dev/shoutrrr/services/overview/" rel="noopener noreferrer" style="outline: 0px; color: var(--color-text-link); text-decoration: none; box-sizing: border-box; background-color: transparent;" target="_blank"&amp;gt;&amp;lt;strong style="outline: 0px; color: var(--text-hover); box-sizing: border-box; font-weight: 600;"&amp;gt;Shoutrrr&amp;lt;/strong&amp;gt;&amp;lt;/a&amp;gt; using &amp;lt;code style='outline: 0px; box-sizing: border-box; font-family: ui-monospace, SFMono-Regular, "SF Mono", Menlo, Consolas, "Liberation Mono", monospace; font-size: 13.6px; background-color: var(--color-markdown-code-bg); border-radius: 6px; margin: 0px; padding: 0.2em 0.4em;'&amp;gt;SHOUTRRR_ADDRESSES&amp;lt;/code&amp;gt;&#xD;
            &amp;lt;ul&amp;gt;&#xD;
                &amp;lt;li style="outline: 0px; box-sizing: border-box; margin-top: 0.25em;"&amp;gt;&amp;lt;code style='outline: 0px; box-sizing: border-box; font-family: ui-monospace, SFMono-Regular, "SF Mono", Menlo, Consolas, "Liberation Mono", monospace; font-size: 13.6px; background-color: var(--color-markdown-code-bg); border-radius: 6px; margin: 0px; padding: 0.2em 0.4em;'&amp;gt;&amp;lt;em&amp;gt;&amp;lt;u&amp;gt;&amp;lt;span style='font-family: "Times New Roman", Times, serif; font-size: 16px;'&amp;gt;https://containrrr.dev/shoutrrr/services/overview/&amp;lt;/span&amp;gt;&amp;lt;/u&amp;gt;&amp;lt;/em&amp;gt;&amp;lt;/code&amp;gt;&amp;lt;/li&amp;gt;&#xD;
            &amp;lt;/ul&amp;gt;&#xD;
        &amp;lt;/li&amp;gt;&#xD;
        &amp;lt;li style="outline: 0px; box-sizing: border-box; margin-top: 0.25em;"&amp;gt;Compatible with &amp;lt;code style='outline: 0px; box-sizing: border-box; font-family: ui-monospace, SFMono-Regular, "SF Mono", Menlo, Consolas, "Liberation Mono", monospace; font-size: 13.6px; background-color: var(--color-markdown-code-bg); border-radius: 6px; margin: 0px; padding: 0.2em 0.4em;'&amp;gt;amd64&amp;lt;/code&amp;gt;, &amp;lt;code style='outline: 0px; box-sizing: border-box; font-family: ui-monospace, SFMono-Regular, "SF Mono", Menlo, Consolas, "Liberation Mono", monospace; font-size: 13.6px; background-color: var(--color-markdown-code-bg); border-radius: 6px; margin: 0px; padding: 0.2em 0.4em;'&amp;gt;386&amp;lt;/code&amp;gt;, &amp;lt;code style='outline: 0px; box-sizing: border-box; font-family: ui-monospace, SFMono-Regular, "SF Mono", Menlo, Consolas, "Liberation Mono", monospace; font-size: 13.6px; background-color: var(--color-markdown-code-bg); border-radius: 6px; margin: 0px; padding: 0.2em 0.4em;'&amp;gt;arm64&amp;lt;/code&amp;gt;, &amp;lt;code style='outline: 0px; box-sizing: border-box; font-family: ui-monospace, SFMono-Regular, "SF Mono", Menlo, Consolas, "Liberation Mono", monospace; font-size: 13.6px; background-color: var(--color-markdown-code-bg); border-radius: 6px; margin: 0px; padding: 0.2em 0.4em;'&amp;gt;armv7&amp;lt;/code&amp;gt;, &amp;lt;code style='outline: 0px; box-sizing: border-box; font-family: ui-monospace, SFMono-Regular, "SF Mono", Menlo, Consolas, "Liberation Mono", monospace; font-size: 13.6px; background-color: var(--color-markdown-code-bg); border-radius: 6px; margin: 0px; padding: 0.2em 0.4em;'&amp;gt;armv6&amp;lt;/code&amp;gt;, &amp;lt;code style='outline: 0px; box-sizing: border-box; font-family: ui-monospace, SFMono-Regular, "SF Mono", Menlo, Consolas, "Liberation Mono", monospace; font-size: 13.6px; background-color: var(--color-markdown-code-bg); border-radius: 6px; margin: 0px; padding: 0.2em 0.4em;'&amp;gt;s390x&amp;lt;/code&amp;gt;, &amp;lt;code style='outline: 0px; box-sizing: border-box; font-family: ui-monospace, SFMono-Regular, "SF Mono", Menlo, Consolas, "Liberation Mono", monospace; font-size: 13.6px; background-color: var(--color-markdown-code-bg); border-radius: 6px; margin: 0px; padding: 0.2em 0.4em;'&amp;gt;ppc64le&amp;lt;/code&amp;gt;, &amp;lt;code style='outline: 0px; box-sizing: border-box; font-family: ui-monospace, SFMono-Regular, "SF Mono", Menlo, Consolas, "Liberation Mono", monospace; font-size: 13.6px; background-color: var(--color-markdown-code-bg); border-radius: 6px; margin: 0px; padding: 0.2em 0.4em;'&amp;gt;riscv64&amp;lt;/code&amp;gt; CPU architectures.&amp;lt;/li&amp;gt;&#xD;
    &amp;lt;/ul&amp;gt;&#xD;
    &amp;lt;p style="outline: 0px; text-align: justify; margin: 0px 0px 4px;"&amp;gt;&amp;lt;br style="outline: 0px; color: rgb(221, 221, 221); font-family: clear-sans; font-size: 13px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: justify; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgba(0, 0, 0, 0.25); text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial;"&amp;gt;&amp;lt;/p&amp;gt;</Overview>
  <Category>Tools: Network:DNS</Category>
  <WebUI>http://[IP]:[PORT:8000]</WebUI>
  <TemplateURL>https://raw.githubusercontent.com/DiamondPrecisionComputing/unraid-templates/main/templates/ddns-updater.xml</TemplateURL>
  <Icon>https://github.com/DiamondPrecisionComputing/unraid-templates/blob/main/templates/img/ddnsgopher.png?raw=true</Icon>
  <DonateText>This app and docker were generously made by qmcgaw. If you like the project please consider making a donation toward his efforts and check out the MANY other projects he has created on GitHub.</DonateText>
  <DonateLink>https://www.paypal.me/qmcgaw</DonateLink>
  <Description>Lightweight universal DDNS Updater with Docker and web UI</Description>
  <Date>2021-09-08</Date>
  <Changes>
###v2.4.0
- Support for domaindiscount24.com
- Support Shoutrrr addresses
- PUBLICIP_DNS_TIMEOUT variable
- Wildcard hosts
- Healthcheck query to 127.0.0.1:port instead of for example 0.0.0.0:port
- DATADIR defaults to /updater/data
- Server listens on all interfaces (IPv4 and IPv6) instead of just 0.0.0.0
- Context dependent DNS resolutions (to exit the program promptly)
- Larger default timeout of 3s for DNS query of public IP
- Upgrade golangci-lint to v1.41.1
- Upgrade qmcgaw/xcputranslate to v0.6.0
- Set Docker test stage entrypoint in Dockerfile instead of CI

###v2.3.0
- HTTP and DNS Public IP fetching options
- Njalla support
- SPDyn support
- Variomedia support
- Allow to run without settings
- debug log level
- HEALTH_SERVER_ADDRESS to change the internal health server listening address
- Request URL and body debug logs for each provider
- Read CONFIG environment variable with case sensitivity
- Dreamhost: create record before removing outdated one
- ipversion display
- ROOT_URL behavior when served outside of root (bug introduced with go-chi)
- IPV6_PREFIX support to avoid unneeded updates when using IPV6
- Use embed for static UI
- Upgrade linting setup with Golangci-lint to v1.40.1
  </Changes>
  <Config Name="WebUI" Target="8000" Default="8000" Mode="tcp" Description="Container Port: 8000" Type="Port" Display="always" Required="true" Mask="false">8000</Config>
  <Config Name="Config" Target="/updater/data" Default="/mnt/user/appdata/ddns-updater" Mode="rw" Description="Container Path: /updater/data" Type="Path" Display="always" Required="true" Mask="false">/mnt/user/appdata/ddns-updater</Config>
  <Config Name="TZ" Target="TZ" Default="" Mode="" Description="Timezone to have accurate times, i.e. America/Montreal" Type="Variable" Display="always" Required="true" Mask="false"/>
  <Config Name="PUBLICIP_FETCHERS" Target="PUBLICIP_FETCHERS" Default="all|http|dns" Mode="" Description="Comma separated fetcher types to obtain the public IP address from http and dns" Type="Variable" Display="always" Required="false" Mask="false">all</Config>
  <Config Name="PUBLICIP_HTTP_PROVIDERS" Target="PUBLICIP_HTTP_PROVIDERS" Default="all" Mode="" Description="PUBLICIP_HTTP_PROVIDERS gets your public IPv4 or IPv6 address. It can be one or more of the following: (default:all), opendns, ifconfig, ipinfo, ddns, google.&#13;&#10;&#13;&#10;You can also specify an HTTPS URL such as https://ipinfo.io/ip" Type="Variable" Display="always" Required="false" Mask="false">all</Config>
  <Config Name="PUBLICIPV4_HTTP_PROVIDERS" Target="PUBLICIPV4_HTTP_PROVIDERS" Default="all" Mode="" Description="PUBLICIPV4_HTTP_PROVIDERS gets your public IPv4 address only. It can be one or more of the following: (default:all), ipify, noip.&#13;&#10;&#13;&#10;You can also specify an HTTPS URL such as https://ipinfo.io/ip" Type="Variable" Display="always" Required="false" Mask="false">all</Config>
  <Config Name="PUBLICIPV6_HTTP_PROVIDERS" Target="PUBLICIPV6_HTTP_PROVIDERS" Default="all" Mode="" Description="PUBLICIPV6_HTTP_PROVIDERS gets your public IPv6 address only. It can be one or more of the following: (default:all), ipify, noip.&#13;&#10;&#13;&#10;You can also specify an HTTPS URL such as https://ipinfo.io/ip" Type="Variable" Display="always" Required="false" Mask="false">all</Config>
  <Config Name="PUBLICIP_DNS_PROVIDERS" Target="PUBLICIP_DNS_PROVIDERS" Default="all" Mode="" Description="PUBLICIP_DNS_PROVIDERS gets your public IPv4 address only or IPv6 address only or one of them. It can be one or more of the following: (default:all), google, cloudflare," Type="Variable" Display="always" Required="false" Mask="false">all</Config>
  <Config Name="PUBLICIP_DNS_TIMEOUT" Target="PUBLICIP_DNS_TIMEOUT" Default="3s" Mode="" Description="Public IP DNS query timeout (in seconds)" Type="Variable" Display="always" Required="false" Mask="false">3s</Config>
  <Config Name="UPDATE_COOLDOWN_PERIOD" Target="UPDATE_COOLDOWN_PERIOD" Default="5m" Mode="" Description="Duration to cooldown between updates for each record. This is useful to avoid being rate limited or banned. (in minutes)" Type="Variable" Display="always" Required="false" Mask="false">5m</Config>
  <Config Name="HTTP_TIMEOUT" Target="HTTP_TIMEOUT" Default="10s" Mode="" Description="Timeout for all HTTP requests (in seconds)" Type="Variable" Display="always" Required="false" Mask="false">10s</Config>
  <Config Name="BACKUP_DIRECTORY" Target="/updater/data" Default="/mnt/user/appdata/ddns-updater/backup" Mode="rw" Description="Container Path: /updater/data" Type="Path" Display="advanced" Required="false" Mask="false">/mnt/user/appdata/ddns-updater/backup</Config>
  <Config Name="BACKUP_PERIOD" Target="BACKUP_PERIOD" Default="0" Mode="" Description="Set to a period (i.e. 72h15m) to enable zip backups of data/config.json and data/updates.json in a zip file" Type="Variable" Display="advanced" Required="false" Mask="false">0</Config>
  <Config Name="LOG_LEVEL" Target="LOG_LEVEL" Default="info|warning|error|debug" Mode="" Description="Level of logging, debug, info, warning or error" Type="Variable" Display="advanced" Required="false" Mask="false">info</Config>
  <Config Name="LOG_CALLER" Target="LOG_CALLER" Default="hidden|short" Mode="" Description="Container Variable: LOG_CALLER" Type="Variable" Display="advanced" Required="false" Mask="false">hidden</Config>
  <Config Name="ROOT_URL" Target="ROOT_URL" Default="/" Mode="" Description="URL path to append to all paths to the webUI (i.e. /ddns for accessing https://example.com/ddns through a proxy)" Type="Variable" Display="advanced" Required="false" Mask="false">/</Config>
  <Config Name="SHOUTRRR_ADDRESSES" Target="SHOUTRRR_ADDRESSES" Default="" Mode="" Description="(optional) Comma separated list of Shoutrrr addresses (notification services) -- (See GitHub Documentation)" Type="Variable" Display="advanced" Required="false" Mask="false"/>
  <Config Name="HEALTH_SERVER_ADDRESS" Target="HEALTH_SERVER_ADDRESS" Default="127.0.0.1:9999" Mode="" Description="Health server listening address" Type="Variable" Display="advanced" Required="false" Mask="false">127.0.0.1:9999</Config>
</Container>